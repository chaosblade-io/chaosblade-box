### 1、获取系统信息
[http://1.94.151.57:8101/api/systems?page=1&size=20](http://1.94.151.57:8101/api/systems?page=1&size=20)

GET

```java
{
    "success": true,
    "data": {
        "items": [
            {
                "id": 2,
                "systemKey": "train-ticket",
                "name": "订票系统",
                "description": "火车票订票系统（被测系统）",
                "owner": "admin",
                "defaultEnvironment": "prod",
                "createdAt": "2025-08-28 15:07:03",
                "updatedAt": "2025-09-01 16:33:12"
            },
            {
                "id": 1,
                "systemKey": "train_ticket",
                "name": "订票系统",
                "description": "火车票订票系统（被测系统）",
                "owner": "admin",
                "defaultEnvironment": "prod",
                "createdAt": "2025-08-28 14:57:26",
                "updatedAt": "2025-08-28 14:57:41"
            }
        ],
        "total": 2,
        "page": 1,
        "size": 20,
        "totalPages": 1,
        "hasNext": false,
        "hasPrevious": false
    }
}
```

### 2、获取API信息
[http://1.94.151.57:8101/api/systems/2/apis](http://1.94.151.57:8101/api/systems/2/apis)

GET

2 =》systemId

```java
{
    "success": true,
    "data": {
        "items": [
            {
                "id": 1,
                "systemId": 2,
                "operationId": "preserveservice_preserve",
                "method": "POST",
                "path": "/api/v1/preserveservice/preserve",
                "summary": "订票",
                "tags": "[\"订票\", \"preserve\", \"preserveservice\", \"v1\"]",
                "version": "v1",
                "baseUrl": "http://116.63.51.45:32677",
                "contentType": "application/json",
                "headersTemplate": "{\"Authorization\": \"Bearer ${token}\"}",
                "authType": "TOKEN",
                "authTemplate": "{\"header\": \"Authorization\", \"scheme\": \"Bearer\", \"token_variable\": \"token\"}",
                "pathParams": "[]",
                "queryParams": "[]",
                "bodyTemplate": "{\"to\": \"${terminalStation}\", \"date\": \"2025-08-28\", \"from\": \"${startingStation}\", \"tripId\": \"D1345\", \"foodName\": \"Bone Soup\", \"foodType\": 1, \"isWithin\": false, \"seatType\": \"2\", \"accountId\": \"${accountId}\", \"assurance\": \"0\", \"foodPrice\": 2.5, \"storeName\": \"\", \"contactsId\": \"${contactsId}\", \"handleDate\": \"2025-08-28\", \"stationName\": \"\", \"consigneeName\": \"11\", \"consigneePhone\": \"22\", \"consigneeWeight\": 33}",
                "variables": "[{\"desc\": \"Bearer Token\", \"name\": \"token\", \"type\": \"string\", \"source\": \"user\", \"default\": null, \"required\": true}, {\"desc\": \"账号ID\", \"name\": \"accountId\", \"type\": \"string\", \"source\": \"user\", \"default\": null, \"required\": true}, {\"desc\": \"联系人ID\", \"name\": \"contactsId\", \"type\": \"string\", \"source\": \"user\", \"default\": null, \"required\": true}, {\"desc\": \"起始站\", \"name\": \"startingStation\", \"type\": \"string\", \"source\": \"user\", \"default\": null, \"required\": true}, {\"desc\": \"终点站\", \"name\": \"terminalStation\", \"type\": \"string\", \"source\": \"user\", \"default\": null, \"required\": true}]",
                "timeoutMs": 15000,
                "retryConfig": "{\"enabled\": false}",
                "createdAt": "2025-08-28 15:07:03",
                "updatedAt": "2025-08-28 15:07:03"
            }
        ],
        "total": 1,
        "page": 1,
        "size": 50,
        "totalPages": 1,
        "hasNext": false,
        "hasPrevious": false
    }
}
```

### 3、获取拓扑
[http://1.94.151.57:8101/api/topologies/1/nodes](http://1.94.151.57:8101/api/topologies/1/nodes)

GET

1 => api_id

```java
{
    "success": true,
    "data": {
        "topology": {
            "id": 1,
            "systemId": 2,
            "apiId": 1,
            "discoveredAt": "2025-08-28 15:23:19",
            "notes": "{\"totalCalls\": 71, \"totalEdges\": 26, \"totalServices\": 19}",
            "createdAt": "2025-08-28 15:23:19"
        },
        "nodes": [
            {
                "id": 20,
                "topologyId": 1,
                "nodeKey": "ts-preserve-service",
                "name": "ts-preserve-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 21,
                "topologyId": 1,
                "nodeKey": "ts-security-service",
                "name": "ts-security-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 22,
                "topologyId": 1,
                "nodeKey": "ts-order-service",
                "name": "ts-order-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 23,
                "topologyId": 1,
                "nodeKey": "ts-order-other-service",
                "name": "ts-order-other-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 24,
                "topologyId": 1,
                "nodeKey": "ts-contacts-service",
                "name": "ts-contacts-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 25,
                "topologyId": 1,
                "nodeKey": "ts-travel-service",
                "name": "ts-travel-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 26,
                "topologyId": 1,
                "nodeKey": "ts-ticketinfo-service",
                "name": "ts-ticketinfo-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 27,
                "topologyId": 1,
                "nodeKey": "ts-basic-service",
                "name": "ts-basic-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 28,
                "topologyId": 1,
                "nodeKey": "ts-station-service",
                "name": "ts-station-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 29,
                "topologyId": 1,
                "nodeKey": "ts-route-service",
                "name": "ts-route-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 30,
                "topologyId": 1,
                "nodeKey": "ts-train-service",
                "name": "ts-train-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 31,
                "topologyId": 1,
                "nodeKey": "ts-price-service",
                "name": "ts-price-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 32,
                "topologyId": 1,
                "nodeKey": "ts-seat-service",
                "name": "ts-seat-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 33,
                "topologyId": 1,
                "nodeKey": "ts-config-service",
                "name": "ts-config-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 34,
                "topologyId": 1,
                "nodeKey": "ts-food-service",
                "name": "ts-food-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 35,
                "topologyId": 1,
                "nodeKey": "ts-consign-service",
                "name": "ts-consign-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 37,
                "topologyId": 1,
                "nodeKey": "ts-consign-price-service",
                "name": "ts-consign-price-service",
                "layer": 1,
                "protocol": "HTTP"
            },
            {
                "id": 38,
                "topologyId": 1,
                "nodeKey": "ts-user-service",
                "name": "ts-user-service",
                "layer": 1,
                "protocol": "HTTP"
            }
        ],
        "edges": [
            {
                "id": 27,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 21,
                "metadata": "{\"url\": \"http://ts-security-service:11188/api/v1/securityservice/securityConfigs/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\", \"port\": \"11188\", \"method\": \"GET\", \"source\": \"ts-preserve-service\", \"target\": \"ts-security-service\", \"allPorts\": [\"11188\"], \"callCount\": 1, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-security-service:11188/api/v1/securityservice/securityConfigs/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\"]}"
            },
            {
                "id": 28,
                "topologyId": 1,
                "fromNodeId": 21,
                "toNodeId": 22,
                "metadata": "{\"url\": \"http://ts-order-service:12031/api/v1/orderservice/order/security/Thu%20Aug%2028%2009:33:10%20CST%202025/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\", \"port\": \"12031\", \"method\": \"GET\", \"source\": \"ts-security-service\", \"target\": \"ts-order-service\", \"allPorts\": [\"12031\"], \"callCount\": 1, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-order-service:12031/api/v1/orderservice/order/security/Thu%20Aug%2028%2009:33:10%20CST%202025/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\"]}"
            },
            {
                "id": 29,
                "topologyId": 1,
                "fromNodeId": 21,
                "toNodeId": 23,
                "metadata": "{\"url\": \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/security/Thu%20Aug%2028%2009:33:11%20CST%202025/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\", \"port\": \"12032\", \"method\": \"GET\", \"source\": \"ts-security-service\", \"target\": \"ts-order-other-service\", \"allPorts\": [\"12032\"], \"callCount\": 1, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/security/Thu%20Aug%2028%2009:33:11%20CST%202025/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\"]}"
            },
            {
                "id": 30,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 24,
                "metadata": "{\"url\": \"http://ts-contacts-service:12347/api/v1/contactservice/contacts/a1766d95-ddd1-490a-919f-f07c42bcf405\", \"port\": \"12347\", \"method\": \"GET\", \"source\": \"ts-preserve-service\", \"target\": \"ts-contacts-service\", \"allPorts\": [\"12347\"], \"callCount\": 1, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-contacts-service:12347/api/v1/contactservice/contacts/a1766d95-ddd1-490a-919f-f07c42bcf405\"]}"
            },
            {
                "id": 31,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 25,
                "metadata": "{\"url\": \"http://ts-travel-service:12346/api/v1/travelservice/trip_detail\", \"port\": \"12346\", \"method\": \"POST\", \"source\": \"ts-preserve-service\", \"target\": \"ts-travel-service\", \"allPorts\": [\"12346\"], \"callCount\": 1, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-travel-service:12346/api/v1/travelservice/trip_detail\"]}"
            },
            {
                "id": 32,
                "topologyId": 1,
                "fromNodeId": 25,
                "toNodeId": 26,
                "metadata": "{\"url\": \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo/Shang%20Hai\", \"port\": \"15681\", \"method\": \"GET,POST\", \"source\": \"ts-travel-service\", \"target\": \"ts-ticketinfo-service\", \"allPorts\": [\"15681\"], \"callCount\": 7, \"allMethods\": [\"GET\", \"POST\"], \"exampleUrls\": [\"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo/Shang%20Hai\", \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo/Su%20Zhou\", \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\"]}"
            },
            {
                "id": 33,
                "topologyId": 1,
                "fromNodeId": 26,
                "toNodeId": 27,
                "metadata": "{\"url\": \"http://ts-basic-service:15680/api/v1/basicservice/basic/Shang%20Hai\", \"port\": \"15680\", \"method\": \"GET,POST\", \"source\": \"ts-ticketinfo-service\", \"target\": \"ts-basic-service\", \"allPorts\": [\"15680\"], \"callCount\": 8, \"allMethods\": [\"GET\", \"POST\"], \"exampleUrls\": [\"http://ts-basic-service:15680/api/v1/basicservice/basic/Shang%20Hai\", \"http://ts-basic-service:15680/api/v1/basicservice/basic/Su%20Zhou\", \"http://ts-basic-service:15680/api/v1/basicservice/basic/travel\"]}"
            },
            {
                "id": 34,
                "topologyId": 1,
                "fromNodeId": 27,
                "toNodeId": 28,
                "metadata": "{\"url\": \"http://ts-station-service:12345/api/v1/stationservice/stations/id/Shang%20Hai\", \"port\": \"12345\", \"method\": \"GET\", \"source\": \"ts-basic-service\", \"target\": \"ts-station-service\", \"allPorts\": [\"12345\"], \"callCount\": 14, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-station-service:12345/api/v1/stationservice/stations/id/Shang%20Hai\", \"http://ts-station-service:12345/api/v1/stationservice/stations/id/Su%20Zhou\"]}"
            },
            {
                "id": 35,
                "topologyId": 1,
                "fromNodeId": 25,
                "toNodeId": 29,
                "metadata": "{\"url\": \"http://ts-route-service:11178/api/v1/routeservice/routes/f3d4d4ef-693b-4456-8eed-59c0d717dd08\", \"port\": \"11178\", \"method\": \"GET\", \"source\": \"ts-travel-service\", \"target\": \"ts-route-service\", \"allPorts\": [\"11178\"], \"callCount\": 4, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-route-service:11178/api/v1/routeservice/routes/f3d4d4ef-693b-4456-8eed-59c0d717dd08\"]}"
            },
            {
                "id": 36,
                "topologyId": 1,
                "fromNodeId": 27,
                "toNodeId": 30,
                "metadata": "{\"url\": \"http://ts-train-service:14567/api/v1/trainservice/trains/DongCheOne\", \"port\": \"14567\", \"method\": \"GET\", \"source\": \"ts-basic-service\", \"target\": \"ts-train-service\", \"allPorts\": [\"14567\"], \"callCount\": 2, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-train-service:14567/api/v1/trainservice/trains/DongCheOne\"]}"
            },
            {
                "id": 37,
                "topologyId": 1,
                "fromNodeId": 27,
                "toNodeId": 29,
                "metadata": "{\"url\": \"http://ts-route-service:11178/api/v1/routeservice/routes/f3d4d4ef-693b-4456-8eed-59c0d717dd08\", \"port\": \"11178\", \"method\": \"GET\", \"source\": \"ts-basic-service\", \"target\": \"ts-route-service\", \"allPorts\": [\"11178\"], \"callCount\": 2, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-route-service:11178/api/v1/routeservice/routes/f3d4d4ef-693b-4456-8eed-59c0d717dd08\"]}"
            },
            {
                "id": 38,
                "topologyId": 1,
                "fromNodeId": 27,
                "toNodeId": 31,
                "metadata": "{\"url\": \"http://ts-price-service:16579/api/v1/priceservice/prices/f3d4d4ef-693b-4456-8eed-59c0d717dd08/DongCheOne\", \"port\": \"16579\", \"method\": \"GET\", \"source\": \"ts-basic-service\", \"target\": \"ts-price-service\", \"allPorts\": [\"16579\"], \"callCount\": 2, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-price-service:16579/api/v1/priceservice/prices/f3d4d4ef-693b-4456-8eed-59c0d717dd08/DongCheOne\"]}"
            },
            {
                "id": 39,
                "topologyId": 1,
                "fromNodeId": 25,
                "toNodeId": 22,
                "metadata": "{\"url\": \"http://ts-order-service:12031/api/v1/orderservice/order/Thu%20Aug%2028%2008:00:00%20CST%202025/D1345\", \"port\": \"12031\", \"method\": \"GET\", \"source\": \"ts-travel-service\", \"target\": \"ts-order-service\", \"allPorts\": [\"12031\"], \"callCount\": 1, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-order-service:12031/api/v1/orderservice/order/Thu%20Aug%2028%2008:00:00%20CST%202025/D1345\"]}"
            },
            {
                "id": 40,
                "topologyId": 1,
                "fromNodeId": 25,
                "toNodeId": 32,
                "metadata": "{\"url\": \"http://ts-seat-service:18898/api/v1/seatservice/seats/left_tickets\", \"port\": \"18898\", \"method\": \"POST\", \"source\": \"ts-travel-service\", \"target\": \"ts-seat-service\", \"allPorts\": [\"18898\"], \"callCount\": 2, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-seat-service:18898/api/v1/seatservice/seats/left_tickets\"]}"
            },
            {
                "id": 41,
                "topologyId": 1,
                "fromNodeId": 32,
                "toNodeId": 25,
                "metadata": "{\"url\": \"http://ts-travel-service:12346/api/v1/travelservice/routes/D1345\", \"port\": \"12346\", \"method\": \"GET\", \"source\": \"ts-seat-service\", \"target\": \"ts-travel-service\", \"allPorts\": [\"12346\"], \"callCount\": 6, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-travel-service:12346/api/v1/travelservice/routes/D1345\", \"http://ts-travel-service:12346/api/v1/travelservice/train_types/D1345\"]}"
            },
            {
                "id": 42,
                "topologyId": 1,
                "fromNodeId": 32,
                "toNodeId": 22,
                "metadata": "{\"url\": \"http://ts-order-service:12031/api/v1/orderservice/order/tickets\", \"port\": \"12031\", \"method\": \"POST\", \"source\": \"ts-seat-service\", \"target\": \"ts-order-service\", \"allPorts\": [\"12031\"], \"callCount\": 3, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-order-service:12031/api/v1/orderservice/order/tickets\"]}"
            },
            {
                "id": 43,
                "topologyId": 1,
                "fromNodeId": 25,
                "toNodeId": 30,
                "metadata": "{\"url\": \"http://ts-train-service:14567/api/v1/trainservice/trains/DongCheOne\", \"port\": \"14567\", \"method\": \"GET\", \"source\": \"ts-travel-service\", \"target\": \"ts-train-service\", \"allPorts\": [\"14567\"], \"callCount\": 4, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-train-service:14567/api/v1/trainservice/trains/DongCheOne\"]}"
            },
            {
                "id": 44,
                "topologyId": 1,
                "fromNodeId": 32,
                "toNodeId": 33,
                "metadata": "{\"url\": \"http://ts-config-service:15679/api/v1/configservice/configs/DirectTicketAllocationProportion\", \"port\": \"15679\", \"method\": \"GET\", \"source\": \"ts-seat-service\", \"target\": \"ts-config-service\", \"allPorts\": [\"15679\"], \"callCount\": 2, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-config-service:15679/api/v1/configservice/configs/DirectTicketAllocationProportion\"]}"
            },
            {
                "id": 45,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 28,
                "metadata": "{\"url\": \"http://ts-station-service:12345/api/v1/stationservice/stations/id/Shang%20Hai\", \"port\": \"12345\", \"method\": \"GET\", \"source\": \"ts-preserve-service\", \"target\": \"ts-station-service\", \"allPorts\": [\"12345\"], \"callCount\": 2, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-station-service:12345/api/v1/stationservice/stations/id/Shang%20Hai\", \"http://ts-station-service:12345/api/v1/stationservice/stations/id/Su%20Zhou\"]}"
            },
            {
                "id": 46,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 26,
                "metadata": "{\"url\": \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\", \"port\": \"15681\", \"method\": \"POST\", \"source\": \"ts-preserve-service\", \"target\": \"ts-ticketinfo-service\", \"allPorts\": [\"15681\"], \"callCount\": 1, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\"]}"
            },
            {
                "id": 47,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 32,
                "metadata": "{\"url\": \"http://ts-seat-service:18898/api/v1/seatservice/seats\", \"port\": \"18898\", \"method\": \"POST\", \"source\": \"ts-preserve-service\", \"target\": \"ts-seat-service\", \"allPorts\": [\"18898\"], \"callCount\": 1, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-seat-service:18898/api/v1/seatservice/seats\"]}"
            },
            {
                "id": 48,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 22,
                "metadata": "{\"url\": \"http://ts-order-service:12031/api/v1/orderservice/order\", \"port\": \"12031\", \"method\": \"POST\", \"source\": \"ts-preserve-service\", \"target\": \"ts-order-service\", \"allPorts\": [\"12031\"], \"callCount\": 1, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-order-service:12031/api/v1/orderservice/order\"]}"
            },
            {
                "id": 49,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 34,
                "metadata": "{\"url\": \"http://ts-food-service:18856/api/v1/foodservice/orders\", \"port\": \"18856\", \"method\": \"POST\", \"source\": \"ts-preserve-service\", \"target\": \"ts-food-service\", \"allPorts\": [\"18856\"], \"callCount\": 1, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-food-service:18856/api/v1/foodservice/orders\"]}"
            },
            {
                "id": 50,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 35,
                "metadata": "{\"url\": \"http://ts-consign-service:16111/api/v1/consignservice/consigns\", \"port\": \"16111\", \"method\": \"POST\", \"source\": \"ts-preserve-service\", \"target\": \"ts-consign-service\", \"allPorts\": [\"16111\"], \"callCount\": 1, \"allMethods\": [\"POST\"], \"exampleUrls\": [\"http://ts-consign-service:16111/api/v1/consignservice/consigns\"]}"
            },
            {
                "id": 51,
                "topologyId": 1,
                "fromNodeId": 35,
                "toNodeId": 37,
                "metadata": "{\"url\": \"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/33.0/false\", \"port\": \"16110\", \"method\": \"GET\", \"source\": \"ts-consign-service\", \"target\": \"ts-consign-price-service\", \"allPorts\": [\"16110\"], \"callCount\": 1, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/33.0/false\"]}"
            },
            {
                "id": 52,
                "topologyId": 1,
                "fromNodeId": 20,
                "toNodeId": 38,
                "metadata": "{\"url\": \"http://ts-user-service:12342/api/v1/userservice/users/id/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\", \"port\": \"12342\", \"method\": \"GET\", \"source\": \"ts-preserve-service\", \"target\": \"ts-user-service\", \"allPorts\": [\"12342\"], \"callCount\": 1, \"allMethods\": [\"GET\"], \"exampleUrls\": [\"http://ts-user-service:12342/api/v1/userservice/users/id/4d2a46c7-71cb-4cf1-b5bb-b68406d9da6f\"]}"
            }
        ]
    }
}
```

[http://1.94.151.57:8101/api/fault-types](http://1.94.151.57:8101/api/fault-types)

```java
{
    "success": true,
    "data": {
        "items": [
            {
                "faultTypeId": 10,
                "faultCode": "container_cpu_overload",
                "name": "容器CPU满载",
                "description": "将目标容器CPU拉满至指定百分比",
                "category": "CPU",
                "enabled": true,
                "displayOrder": 10,
                "paramConfig": "{\"desc\": \"Container CPU overload experiment\", \"scope\": \"container\", \"action\": \"load\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"cpu_percent\", \"max\": 100, \"min\": 1, \"type\": \"int\", \"unit\": \"%\", \"group\": \"required\", \"label\": \"CPU 使用率(%)\", \"default\": 100, \"matcher\": \"cpu-percent\", \"required\": true}, {\"key\": \"timeout\", \"max\": 3600, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 60, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"cpu\", \"version\": \"1.0\", \"examples\": {\"names\": [\"your-pod-name\"], \"timeout\": 60, \"namespace\": \"your-namespace\", \"cpu_percent\": 100, \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 12,
                "faultCode": "container_disk_fill",
                "name": "容器磁盘填充",
                "description": "向指定路径写入临时文件至目标大小",
                "category": "Disk",
                "enabled": true,
                "displayOrder": 30,
                "paramConfig": "{\"desc\": \"Container disk fill experiment\", \"scope\": \"container\", \"action\": \"fill\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"path\", \"type\": \"string\", \"group\": \"required\", \"label\": \"填充路径\", \"default\": \"/tmp\", \"matcher\": \"path\", \"required\": true}, {\"key\": \"size\", \"min\": 1, \"type\": \"int\", \"unit\": \"MB\", \"group\": \"required\", \"label\": \"填充大小(MB)\", \"default\": 1000, \"matcher\": \"size\", \"required\": true}, {\"key\": \"timeout\", \"max\": 3600, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 60, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"disk\", \"version\": \"1.0\", \"examples\": {\"path\": \"/tmp\", \"size\": 1000, \"names\": [\"your-pod-name\"], \"timeout\": 60, \"namespace\": \"your-namespace\", \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 13,
                "faultCode": "container_disk_burn",
                "name": "容器磁盘负载",
                "description": "对指定路径产生读/写 IO 压力",
                "category": "Disk",
                "enabled": true,
                "displayOrder": 40,
                "paramConfig": "{\"desc\": \"Container disk IO load experiment\", \"scope\": \"container\", \"action\": \"burn\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"path\", \"type\": \"string\", \"group\": \"optional\", \"label\": \"IO 路径\", \"default\": \"/\", \"matcher\": \"path\", \"required\": false}, {\"key\": \"read\", \"type\": \"bool\", \"group\": \"required\", \"label\": \"读操作\", \"default\": true, \"matcher\": \"read\", \"required\": true}, {\"key\": \"write\", \"type\": \"bool\", \"group\": \"required\", \"label\": \"写操作\", \"default\": true, \"matcher\": \"write\", \"required\": true}, {\"key\": \"timeout\", \"max\": 3600, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 60, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"disk\", \"version\": \"1.0\", \"examples\": {\"path\": \"/tmp\", \"read\": true, \"names\": [\"your-pod-name\"], \"write\": true, \"timeout\": 60, \"namespace\": \"your-namespace\", \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 18,
                "faultCode": "container_remove",
                "name": "容器移除",
                "description": "从 Pod 中移除目标容器（可能触发重建/重启）",
                "category": "Internal",
                "enabled": true,
                "displayOrder": 90,
                "paramConfig": "{\"desc\": \"Container remove experiment\", \"scope\": \"container\", \"action\": \"remove\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}], \"target\": \"container\", \"version\": \"1.0\", \"examples\": {\"names\": [\"your-pod-name\"], \"namespace\": \"your-namespace\", \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 11,
                "faultCode": "container_mem_load",
                "name": "容器高内存",
                "description": "按百分比占用容器内存，支持 ram/cache 模式",
                "category": "Memory",
                "enabled": true,
                "displayOrder": 20,
                "paramConfig": "{\"desc\": \"Container memory load experiment\", \"scope\": \"container\", \"action\": \"load\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"mode\", \"type\": \"enum\", \"group\": \"required\", \"label\": \"内存模式\", \"default\": \"ram\", \"matcher\": \"mode\", \"options\": [\"ram\", \"cache\"], \"required\": true}, {\"key\": \"mem_percent\", \"max\": 100, \"min\": 1, \"type\": \"int\", \"unit\": \"%\", \"group\": \"required\", \"label\": \"内存使用率(%)\", \"default\": 80, \"matcher\": \"mem-percent\", \"required\": true}, {\"key\": \"timeout\", \"max\": 3600, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 60, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"mem\", \"version\": \"1.0\", \"examples\": {\"mode\": \"ram\", \"names\": [\"your-pod-name\"], \"timeout\": 60, \"namespace\": \"your-namespace\", \"mem_percent\": 80, \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 14,
                "faultCode": "container_net_loss",
                "name": "容器网络丢包",
                "description": "在容器网络接口注入随机丢包",
                "category": "Network",
                "enabled": true,
                "displayOrder": 50,
                "paramConfig": "{\"desc\": \"Container network packet loss experiment\", \"scope\": \"container\", \"action\": \"loss\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"percent\", \"max\": 100, \"min\": 0, \"type\": \"int\", \"unit\": \"%\", \"group\": \"required\", \"label\": \"丢包率(%)\", \"default\": 10, \"matcher\": \"percent\", \"required\": true}, {\"key\": \"interface\", \"type\": \"string\", \"group\": \"optional\", \"label\": \"网络接口\", \"default\": \"eth0\", \"matcher\": \"interface\", \"required\": false}, {\"key\": \"timeout\", \"max\": 3600, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 60, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"network\", \"version\": \"1.0\", \"examples\": {\"names\": [\"your-pod-name\"], \"percent\": 10, \"timeout\": 60, \"interface\": \"eth0\", \"namespace\": \"your-namespace\", \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 15,
                "faultCode": "container_net_delay",
                "name": "容器网络延迟",
                "description": "在容器网络接口引入固定延迟和抖动",
                "category": "Network",
                "enabled": true,
                "displayOrder": 60,
                "paramConfig": "{\"desc\": \"Container network delay experiment\", \"scope\": \"container\", \"action\": \"delay\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"time\", \"min\": 0, \"type\": \"int\", \"unit\": \"ms\", \"group\": \"required\", \"label\": \"基础延迟(ms)\", \"default\": 100, \"matcher\": \"time\", \"required\": true}, {\"key\": \"offset\", \"min\": 0, \"type\": \"int\", \"unit\": \"ms\", \"group\": \"optional\", \"label\": \"抖动(ms)\", \"default\": 10, \"matcher\": \"offset\", \"required\": false}, {\"key\": \"interface\", \"type\": \"string\", \"group\": \"optional\", \"label\": \"网络接口\", \"default\": \"eth0\", \"matcher\": \"interface\", \"required\": false}, {\"key\": \"timeout\", \"max\": 3600, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 60, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"network\", \"version\": \"1.0\", \"examples\": {\"time\": 100, \"names\": [\"your-pod-name\"], \"offset\": 10, \"timeout\": 60, \"interface\": \"eth0\", \"namespace\": \"your-namespace\", \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 16,
                "faultCode": "container_net_corrupt",
                "name": "容器网络损坏",
                "description": "对报文注入随机比特错误",
                "category": "Network",
                "enabled": true,
                "displayOrder": 70,
                "paramConfig": "{\"desc\": \"Container network corruption experiment\", \"scope\": \"container\", \"action\": \"corrupt\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"percent\", \"max\": 100, \"min\": 0, \"type\": \"int\", \"unit\": \"%\", \"group\": \"required\", \"label\": \"损坏率(%)\", \"default\": 5, \"matcher\": \"percent\", \"required\": true}, {\"key\": \"interface\", \"type\": \"string\", \"group\": \"optional\", \"label\": \"网络接口\", \"default\": \"eth0\", \"matcher\": \"interface\", \"required\": false}, {\"key\": \"timeout\", \"max\": 3600, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 60, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"network\", \"version\": \"1.0\", \"examples\": {\"names\": [\"your-pod-name\"], \"percent\": 5, \"timeout\": 60, \"interface\": \"eth0\", \"namespace\": \"your-namespace\", \"container_names\": [\"your-container-name\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            },
            {
                "faultTypeId": 17,
                "faultCode": "container_process_kill",
                "name": "容器进程Kill",
                "description": "向容器内指定进程发送信号（默认 SIGKILL/9）",
                "category": "Process",
                "enabled": true,
                "displayOrder": 80,
                "paramConfig": "{\"desc\": \"Container process kill experiment\", \"scope\": \"container\", \"action\": \"kill\", \"engine\": \"chaosblade\", \"fields\": [{\"ui\": {\"component\": \"k8sPodMultiSelect\"}, \"key\": \"names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"Pod 名称\", \"matcher\": \"names\", \"required\": true}, {\"ui\": {\"component\": \"k8sNamespaceSelect\"}, \"key\": \"namespace\", \"type\": \"string\", \"group\": \"required\", \"label\": \"命名空间\", \"matcher\": \"namespace\", \"required\": true}, {\"ui\": {\"component\": \"k8sContainerSelect\"}, \"key\": \"container_names\", \"type\": \"array<string>\", \"group\": \"required\", \"label\": \"容器名称\", \"matcher\": \"container-names\", \"required\": true}, {\"key\": \"process\", \"type\": \"string\", \"group\": \"required\", \"label\": \"进程名/可执行名\", \"default\": \"java\", \"matcher\": \"process\", \"required\": true}, {\"key\": \"signal\", \"type\": \"int\", \"group\": \"required\", \"label\": \"信号\", \"default\": 9, \"matcher\": \"signal\", \"required\": true}, {\"key\": \"timeout\", \"max\": 7200, \"min\": 1, \"type\": \"int\", \"unit\": \"s\", \"group\": \"optional\", \"label\": \"超时时间(s)\", \"default\": 300, \"matcher\": \"timeout\", \"required\": true}], \"target\": \"process\", \"version\": \"1.0\", \"examples\": {\"names\": [\"ts-travel2-service-7896995b98-nms5k\"], \"signal\": 9, \"process\": \"java\", \"timeout\": 300, \"namespace\": \"train-ticket\", \"container_names\": [\"ts-travel2-service\"]}, \"renderer\": \"chaosblade_v1alpha1_experiment\"}",
                "createdAt": "2025-09-07 21:58:07",
                "updatedAt": "2025-09-07 21:58:07"
            }
        ],
        "total": 9,
        "page": 1,
        "size": 20,
        "totalPages": 1,
        "hasNext": false,
        "hasPrevious": false
    }
}
```

### 4、新增task
[http://1.94.151.57:8101/api/probe-tasks](http://1.94.151.57:8101/api/probe-tasks)

POST

```java
{
    "name": "TT-订票链路-容器移除-回归-2025-09-07",
    "description": "Train Ticket 订票服务在容器移除故障注入下的回归用例，验证链路稳定性与SLO。",
    "systemId": 2001,
    "apiId": 1,
    "createdBy": "green",
    "updatedBy": "green",
    "createdAt": 1757247120000,
    "updatedAt": 1757248245000,
    "archivedAt": null,
    "faultConfigurations": [
        {
            "nodeId": 22,
            "faulscript": {
                "apiVersion": "chaosblade.io/v1alpha1",
                "kind": "ChaosBlade",
                "metadata": {
                    "name": "container-remove-tt-travel2-20250907-2112"
                },
                "spec": {
                    "experiments": [
                        {
                            "scope": "container",
                            "target": "container",
                            "action": "remove",
                            "matchers": [
                                {
                                    "name": "names",
                                    "value": [
                                        "ts-travel2-service-7896995b98-nms5k"
                                    ]
                                },
                                {
                                    "name": "namespace",
                                    "value": [
                                        "train-ticket"
                                    ]
                                },
                                {
                                    "name": "container-names",
                                    "value": [
                                        "ts-travel2-service"
                                    ]
                                },
                                {
                                    "name": "force",
                                    "value": [
                                        "true"
                                    ]
                                },
                                {
                                    "name": "timeout",
                                    "value": [
                                        "120"
                                    ]
                                }
                            ]
                        }
                    ]
                }
            }
        }
    ],
    "taskSlo": [
        {
            "node_id": 12,
            "p95": 800,
            "p99": 1200,
            "errRate": 1
        }
    ],
    "apiDefinition": {
        "code": "TT-001",
        "name": "预订服务下单接口",
        "method": "POST",
        "urlTemplate": "/api/v1/preserveservice/preserve",
        "headers": "{\"Accept\":\"application/json\",\"Authorization\":\"Bearer {{token}}\"}",
        "queryParams": "{}",
        "bodyMode": "JSON",
        "contentType": "application/json",
        "bodyTemplate": "{\"to\":\"{{to}}\",\"from\":\"{{from}}\",\"date\":\"{{date}}\",\"tripId\":\"{{tripId}}\",\"baggage\":\"{{baggage}}\"}",
        "apiId": 31005
    },
    "requestNum": 20
}
```

